2026-01-01 20:55:22,467 | [32mINFO[0m | root | Logging configured
2026-01-01 20:55:22,468 | [32mINFO[0m | __main__ | Starting Syntra API...
2026-01-01 20:55:23,255 | [32mINFO[0m | router.intelligent_router | IntelligentRouter initialized with 4 models
/Users/rrao/Desktop/Syntra-main/backend/app/api/api_keys.py:33: UserWarning: Field name "validate" in "APIKeyCreate" shadows an attribute in parent "BaseModel"
  class APIKeyCreate(BaseModel):
Warning: OpenTelemetry not available (install opentelemetry packages)
2026-01-01 20:55:23,920 | [32mINFO[0m | __main__ | Starting Syntra API server (reload=False, env=development)
2026-01-01 20:55:24,032 | [32mINFO[0m | root | Logging configured
2026-01-01 20:55:24,032 | [32mINFO[0m | main | Starting Syntra API...
INFO:     Started server process [36289]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
Warning: OpenTelemetry not available (install opentelemetry packages)
INFO:     127.0.0.1:62745 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63021 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63606 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:63736 - "OPTIONS /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:63737 - "OPTIONS /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63738 - "OPTIONS /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:63739 - "OPTIONS /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:00:05,682 | [33mWARNING[0m | app.api.deps | ‚ö†Ô∏è  Token verification failed (treating as unauthenticated): {exc}
2026-01-01 21:00:05,689 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:00:05,691 | [33mWARNING[0m | app.api.deps | ‚ö†Ô∏è  Token verification failed (treating as unauthenticated): {exc}
2026-01-01 21:00:05,691 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:63739 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63738 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
2026-01-01 21:00:05,695 | [33mWARNING[0m | app.api.deps | ‚ö†Ô∏è  Token verification failed (treating as unauthenticated): {exc}
2026-01-01 21:00:05,695 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:00:05,695 | [33mWARNING[0m | app.api.deps | ‚ö†Ô∏è  Token verification failed (treating as unauthenticated): {exc}
2026-01-01 21:00:05,696 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:63737 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:63736 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:63736 - "OPTIONS /api/auth/clerk HTTP/1.1" 200 OK
2026-01-01 21:00:05,977 | [32mINFO[0m | app.services.clerk_client | [CLERK] Verifying user_id: {user_id}
2026-01-01 21:00:06,314 | [32mINFO[0m | app.services.clerk_client | [CLERK] Clerk API response: {response.status_code}
INFO:     127.0.0.1:63737 - "POST /api/auth/clerk HTTP/1.1" 200 OK
INFO:     127.0.0.1:63745 - "OPTIONS /api/threads HTTP/1.1" 200 OK
INFO:     127.0.0.1:63746 - "POST /api/threads HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:63746 - "OPTIONS /api/threads/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63746 - "POST /api/threads/ HTTP/1.1" 201 Created
2026-01-01 21:00:10,400 | [32mINFO[0m | app.api.threads.streaming | Streaming message to thread 4904de83 for org org_demo
2026-01-01 21:00:10,405 | [32mINFO[0m | app.api.threads.streaming | Using provider: openai, model: gpt-4o-mini
2026-01-01 21:00:10,425 | [32mINFO[0m | app.api.threads.streaming | Built 2 messages for provider
2026-01-01 21:00:10,433 | [32mINFO[0m | app.api.threads.streaming | üíæ Saved user message to database (sequence: 1, user_id: f5fbea61-da75-4e75-b351-a1f17f437e84)
INFO:     127.0.0.1:63749 - "POST /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199/messages/stream HTTP/1.1" 200 OK
2026-01-01 21:00:11,839 | [32mINFO[0m | app.api.threads.streaming | üöÄ First chunk in 1403ms
2026-01-01 21:00:12,046 | [32mINFO[0m | app.api.threads.streaming | ‚úÖ Streaming complete - 34 chars received
2026-01-01 21:00:12,056 | [32mINFO[0m | app.api.threads.streaming | üíæ Saved assistant message to database (sequence: 2, user_id: f5fbea61-da75-4e75-b351-a1f17f437e84, thread_id: 4904de83-07bc-4b33-af32-bfe3492d0199)
2026-01-01 21:00:16,690 | [32mINFO[0m | app.api.threads.streaming | Streaming message to thread 4904de83 for org org_demo
2026-01-01 21:00:16,699 | [32mINFO[0m | app.api.threads.streaming | Using provider: openai, model: gpt-4o-mini
2026-01-01 21:00:16,708 | [32mINFO[0m | app.api.threads.streaming | Built 4 messages for provider
2026-01-01 21:00:16,716 | [32mINFO[0m | app.api.threads.streaming | üíæ Saved user message to database (sequence: 3, user_id: f5fbea61-da75-4e75-b351-a1f17f437e84)
INFO:     127.0.0.1:63755 - "POST /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199/messages/stream HTTP/1.1" 200 OK
2026-01-01 21:00:18,133 | [32mINFO[0m | app.api.threads.streaming | üöÄ First chunk in 1413ms
2026-01-01 21:00:21,241 | [32mINFO[0m | app.api.threads.streaming | ‚úÖ Streaming complete - 731 chars received
2026-01-01 21:00:21,253 | [32mINFO[0m | app.api.threads.streaming | üíæ Saved assistant message to database (sequence: 4, user_id: f5fbea61-da75-4e75-b351-a1f17f437e84, thread_id: 4904de83-07bc-4b33-af32-bfe3492d0199)
2026-01-01 21:00:30,276 | [32mINFO[0m | app.api.threads.streaming | Streaming message to thread 4904de83 for org org_demo
2026-01-01 21:00:30,288 | [32mINFO[0m | app.api.threads.streaming | Using provider: openai, model: gpt-4o-mini
2026-01-01 21:00:30,295 | [32mINFO[0m | app.api.threads.streaming | Built 6 messages for provider
2026-01-01 21:00:30,306 | [32mINFO[0m | app.api.threads.streaming | üíæ Saved user message to database (sequence: 5, user_id: f5fbea61-da75-4e75-b351-a1f17f437e84)
INFO:     127.0.0.1:63765 - "POST /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199/messages/stream HTTP/1.1" 200 OK
2026-01-01 21:00:31,782 | [32mINFO[0m | app.api.threads.streaming | üöÄ First chunk in 1471ms
2026-01-01 21:00:32,285 | [32mINFO[0m | app.api.threads.streaming | ‚úÖ Streaming complete - 142 chars received
2026-01-01 21:00:32,315 | [32mINFO[0m | app.api.threads.streaming | üíæ Saved assistant message to database (sequence: 6, user_id: f5fbea61-da75-4e75-b351-a1f17f437e84, thread_id: 4904de83-07bc-4b33-af32-bfe3492d0199)
2026-01-01 21:01:33,919 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:01:33,926 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:63907 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:63908 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:64820 - "OPTIONS /api/council/orchestrate HTTP/1.1" 200 OK
2026-01-01 21:07:53,241 | [32mINFO[0m | app.api.council | ‚úÖ API key found for openai
2026-01-01 21:07:53,242 | [32mINFO[0m | app.api.council | ‚úÖ API key found for gemini
2026-01-01 21:07:53,243 | [32mINFO[0m | app.api.council | ‚úÖ API key found for perplexity
2026-01-01 21:07:53,243 | [32mINFO[0m | app.api.council | ‚úÖ API key found for kimi
2026-01-01 21:07:53,243 | [32mINFO[0m | app.api.council | API Key Collection Summary for org org_demo: Found: ['openai', 'gemini', 'perplexity', 'kimi'], Missing: [], Total available: 4/4
2026-01-01 21:07:53,244 | [32mINFO[0m | app.api.council | Starting council orchestration for session 90ce1aa0-8d57-4416-a1e9-451f582c6d6c with providers: ['openai', 'gemini', 'perplexity', 'kimi']
2026-01-01 21:07:53,249 | [32mINFO[0m | app.services.council.orchestrator | üöÄ Starting Multi-Agent Council
2026-01-01 21:07:53,250 | [32mINFO[0m | app.services.council.orchestrator | Available providers: ['openai', 'gemini', 'perplexity', 'kimi']
INFO:     127.0.0.1:64820 - "POST /api/council/orchestrate HTTP/1.1" 200 OK
INFO:     127.0.0.1:64822 - "WebSocket /api/council/ws/90ce1aa0-8d57-4416-a1e9-451f582c6d6c" [accepted]
INFO:     connection open
2026-01-01 21:07:55,875 | [32mINFO[0m | app.services.council.query_classifier | LLM classification failed: {e}, using heuristic
2026-01-01 21:07:55,883 | [32mINFO[0m | app.services.council.orchestrator | üìä Query classified as Level 2/5: Heuristic classification (LLM failed)
2026-01-01 21:07:55,884 | [32mINFO[0m | app.services.council.orchestrator | ‚ö° Phase 1: Running 5 specialist agents in parallel...
2026-01-01 21:07:55,884 | [32mINFO[0m | app.services.council.orchestrator | Executing 5 agents in parallel...
2026-01-01 21:07:55,885 | [32mINFO[0m | app.services.council.orchestrator | Starting Architect Agent with 90s timeout
2026-01-01 21:07:55,885 | [32mINFO[0m | app.services.council.base | Running architect agent via openai
2026-01-01 21:07:55,887 | [32mINFO[0m | app.services.council.orchestrator | Starting Data Engineer Agent with 90s timeout
2026-01-01 21:07:55,887 | [32mINFO[0m | app.services.council.base | Running data_engineer agent via openai
2026-01-01 21:07:55,888 | [32mINFO[0m | app.services.council.orchestrator | Starting Researcher Agent with 90s timeout
2026-01-01 21:07:55,888 | [32mINFO[0m | app.services.council.base | Running researcher agent via perplexity
2026-01-01 21:07:55,889 | [32mINFO[0m | app.services.council.orchestrator | Starting Red Teamer Agent with 90s timeout
2026-01-01 21:07:55,890 | [32mINFO[0m | app.services.council.base | Running red_teamer agent via gemini
2026-01-01 21:07:55,891 | [32mINFO[0m | app.services.council.orchestrator | Starting Optimizer Agent with 90s timeout
2026-01-01 21:07:55,891 | [32mINFO[0m | app.services.council.base | Running optimizer agent via openai
2026-01-01 21:07:57,977 | [32mINFO[0m | app.services.council.base | architect agent completed
2026-01-01 21:07:57,977 | [32mINFO[0m | app.services.council.orchestrator | Architect Agent completed successfully, output length: 458
2026-01-01 21:07:58,748 | [32mINFO[0m | app.services.council.base | optimizer agent completed
2026-01-01 21:07:58,748 | [32mINFO[0m | app.services.council.orchestrator | Optimizer Agent completed successfully, output length: 861
2026-01-01 21:08:02,215 | [32mINFO[0m | app.services.council.base | data_engineer agent completed
2026-01-01 21:08:02,216 | [32mINFO[0m | app.services.council.orchestrator | Data Engineer Agent completed successfully, output length: 3074
INFO:     127.0.0.1:64825 - "WebSocket /api/council/ws/90ce1aa0-8d57-4416-a1e9-451f582c6d6c" [accepted]
INFO:     connection open
2026-01-01 21:08:03,779 | [32mINFO[0m | app.services.council.base | researcher agent completed
2026-01-01 21:08:03,780 | [32mINFO[0m | app.services.council.orchestrator | Researcher Agent completed successfully, output length: 3365
2026-01-01 21:08:04,372 | [32mINFO[0m | app.services.council.base | red_teamer agent completed
2026-01-01 21:08:04,373 | [32mINFO[0m | app.services.council.orchestrator | Red Teamer Agent completed successfully, output length: 6272
2026-01-01 21:08:04,374 | [32mINFO[0m | app.services.council.orchestrator | ‚úÖ Phase 1 completed
2026-01-01 21:08:04,375 | [32mINFO[0m | app.services.council.orchestrator | üîÑ Phase 2: Running Debate Synthesizer...
2026-01-01 21:08:04,375 | [32mINFO[0m | app.services.council.orchestrator | Debate Synthesizer input size: 14301 characters
2026-01-01 21:08:04,376 | [32mINFO[0m | app.services.council.orchestrator | Starting Debate Synthesizer with 300s timeout
2026-01-01 21:08:04,376 | [32mINFO[0m | app.services.council.base | Running synthesizer agent via openai
2026-01-01 21:08:05,299 | [33mWARNING[0m | app.services.council.base | Error calling synthesizer agent via openai: openai adapter error: {
    "error": {
        "message": "Rate limit reached for gpt-4o in organization org-f0qilBUeOWrOQLHwBZvAk1G0 on tokens per min (TPM): Limit 30000, Used 17883, Requested 12187. Please try again in 140ms. Visit https://platform.openai.com/account/rate-limits to learn more.",
        "type": "tokens",
        "param": null,
        "code": "rate_limit_exceeded"
    }
}

2026-01-01 21:08:05,299 | [32mINFO[0m | app.services.council.base | Running synthesizer agent via gemini
INFO:     127.0.0.1:64826 - "WebSocket /api/council/ws/90ce1aa0-8d57-4416-a1e9-451f582c6d6c" [accepted]
INFO:     connection open
2026-01-01 21:08:19,431 | [32mINFO[0m | app.services.council.base | synthesizer agent completed via fallback provider gemini (preferred was openai)
2026-01-01 21:08:19,431 | [32mINFO[0m | app.services.council.orchestrator | Debate Synthesizer completed successfully, output length: 14156
2026-01-01 21:08:19,434 | [32mINFO[0m | app.services.council.orchestrator | ‚úÖ Phase 2 completed
2026-01-01 21:08:19,434 | [32mINFO[0m | app.services.council.orchestrator | ‚öñÔ∏è Phase 3: Running Judge Agent...
2026-01-01 21:08:19,436 | [32mINFO[0m | app.services.council.orchestrator | Judge Agent input size: 14329 characters
2026-01-01 21:08:19,436 | [32mINFO[0m | app.services.council.orchestrator | Calling Judge Agent...
2026-01-01 21:08:19,436 | [32mINFO[0m | app.services.council.base | Running judge agent via openai
2026-01-01 21:08:28,549 | [32mINFO[0m | app.services.council.base | judge agent completed
2026-01-01 21:08:28,550 | [32mINFO[0m | app.services.council.orchestrator | Judge Agent completed successfully, output length: 6449
2026-01-01 21:08:28,553 | [32mINFO[0m | app.services.council.orchestrator | ‚úÖ Phase 3 completed
2026-01-01 21:08:28,553 | [32mINFO[0m | app.services.council.orchestrator | üîç Running Quality Validation...
2026-01-01 21:08:28,557 | [32mINFO[0m | app.services.council.quality_validator | Quality validation failed: {e}
2026-01-01 21:08:28,557 | [32mINFO[0m | app.services.council.orchestrator | Quality Scores: Substance=5.0, Completeness=5.0, Depth=5.0, Accuracy=5.0, Overall=5.0
2026-01-01 21:08:28,557 | [33mWARNING[0m | app.services.council.orchestrator | Quality gate not passed. Gaps: Validation error: 'str' object has no attribute 'value'
2026-01-01 21:08:28,557 | [32mINFO[0m | app.services.council.orchestrator | Quality validation completed in 4ms
2026-01-01 21:08:28,559 | [32mINFO[0m | app.services.council.orchestrator | ‚úÖ Council complete
2026-01-01 21:08:28,559 | [32mINFO[0m | app.api.council | Council session 90ce1aa0-8d57-4416-a1e9-451f582c6d6c completed
INFO:     connection closed
2026-01-01 21:08:28,840 | [33mWARNING[0m | app.api.council | Error closing websocket: Cannot call "send" once a close message has been sent.
2026-01-01 21:08:28,977 | [32mINFO[0m | app.api.council | Sending complete message for session 90ce1aa0-8d57-4416-a1e9-451f582c6d6c, output length: 6449
INFO:     connection closed
2026-01-01 21:08:29,006 | [32mINFO[0m | app.api.council | Sending complete message for session 90ce1aa0-8d57-4416-a1e9-451f582c6d6c, output length: 6449
INFO:     connection closed
INFO:     127.0.0.1:49622 - "OPTIONS /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49623 - "OPTIONS /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:13,379 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:13,382 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49623 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:49624 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
2026-01-01 21:15:44,493 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:44,506 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49727 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49728 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:49729 - "OPTIONS /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49730 - "OPTIONS /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49731 - "OPTIONS /api/auth/clerk HTTP/1.1" 200 OK
2026-01-01 21:15:44,593 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:44,595 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49733 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49734 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:44,630 | [32mINFO[0m | app.services.clerk_client | [CLERK] Verifying user_id: {user_id}
2026-01-01 21:15:44,681 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:44,730 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49727 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49736 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:44,821 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=1, content_length=8
2026-01-01 21:15:44,822 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=2, content_length=34
2026-01-01 21:15:44,822 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=3, content_length=18
2026-01-01 21:15:44,822 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=4, content_length=731
2026-01-01 21:15:44,822 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=5, content_length=11
2026-01-01 21:15:44,822 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=6, content_length=142
INFO:     127.0.0.1:49735 - "GET /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199 HTTP/1.1" 200 OK
2026-01-01 21:15:44,840 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=1, content_length=8
2026-01-01 21:15:44,840 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=2, content_length=34
2026-01-01 21:15:44,840 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=3, content_length=18
2026-01-01 21:15:44,840 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=4, content_length=731
2026-01-01 21:15:44,840 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=5, content_length=11
2026-01-01 21:15:44,840 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=6, content_length=142
INFO:     127.0.0.1:49736 - "GET /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199 HTTP/1.1" 200 OK
2026-01-01 21:15:45,102 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:45,103 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49736 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49735 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:45,153 | [32mINFO[0m | app.services.clerk_client | [CLERK] Clerk API response: {response.status_code}
INFO:     127.0.0.1:49728 - "POST /api/auth/clerk HTTP/1.1" 200 OK
2026-01-01 21:15:45,332 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=1, content_length=8
2026-01-01 21:15:45,332 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=2, content_length=34
2026-01-01 21:15:45,332 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=3, content_length=18
2026-01-01 21:15:45,332 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=4, content_length=731
2026-01-01 21:15:45,332 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=5, content_length=11
2026-01-01 21:15:45,332 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=6, content_length=142
INFO:     127.0.0.1:49728 - "GET /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199 HTTP/1.1" 200 OK
2026-01-01 21:15:45,429 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:45,430 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49728 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49735 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:45,751 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:45,753 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:46,076 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:46,077 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:46,399 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:46,400 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:46,712 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:46,713 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:47,027 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:47,030 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:47,343 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:47,344 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:47,659 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:47,660 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:47,970 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:47,971 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:48,280 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:48,281 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:48,597 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:48,598 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:48,908 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:48,910 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:49,221 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:49,222 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:49,535 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:49,536 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49738 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49739 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:51,540 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:51,544 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49768 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49769 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:51,592 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:51,594 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:51,596 | [32mINFO[0m | app.services.clerk_client | [CLERK] Verifying user_id: {user_id}
INFO:     127.0.0.1:49768 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
2026-01-01 21:15:51,691 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=1, content_length=8
2026-01-01 21:15:51,692 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=2, content_length=34
2026-01-01 21:15:51,692 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=3, content_length=18
2026-01-01 21:15:51,692 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=4, content_length=731
2026-01-01 21:15:51,692 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=5, content_length=11
2026-01-01 21:15:51,692 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=6, content_length=142
INFO:     127.0.0.1:49770 - "GET /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199 HTTP/1.1" 200 OK
2026-01-01 21:15:51,709 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=1, content_length=8
2026-01-01 21:15:51,709 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=2, content_length=34
2026-01-01 21:15:51,709 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=3, content_length=18
2026-01-01 21:15:51,709 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=4, content_length=731
2026-01-01 21:15:51,709 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=5, content_length=11
2026-01-01 21:15:51,709 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=6, content_length=142
INFO:     127.0.0.1:49773 - "GET /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199 HTTP/1.1" 200 OK
2026-01-01 21:15:51,999 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:52,001 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49770 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:52,324 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:52,325 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49770 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:52,334 | [32mINFO[0m | app.services.clerk_client | [CLERK] Clerk API response: {response.status_code}
INFO:     127.0.0.1:49772 - "POST /api/auth/clerk HTTP/1.1" 200 OK
2026-01-01 21:15:52,386 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=1, content_length=8
2026-01-01 21:15:52,386 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=2, content_length=34
2026-01-01 21:15:52,386 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=3, content_length=18
2026-01-01 21:15:52,386 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=4, content_length=731
2026-01-01 21:15:52,386 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=user, sequence=5, content_length=11
2026-01-01 21:15:52,386 | [32mINFO[0m | app.api.threads.router |   üì® Message: role=assistant, sequence=6, content_length=142
INFO:     127.0.0.1:49772 - "GET /api/threads/4904de83-07bc-4b33-af32-bfe3492d0199 HTTP/1.1" 200 OK
2026-01-01 21:15:52,638 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:52,639 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49772 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:52,950 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:52,951 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49772 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:53,268 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:53,269 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49772 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:53,591 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:53,592 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49772 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:53,905 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:53,907 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49772 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:54,226 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:54,228 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49772 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:54,565 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:54,566 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49772 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:15:54,902 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:15:55,199 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:49773 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:49772 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:19:35,060 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:19:35,072 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:50378 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
INFO:     127.0.0.1:50379 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:19:35,166 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
2026-01-01 21:19:35,190 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:50383 - "GET /api/threads/?limit=50&archived=false HTTP/1.1" 200 OK
2026-01-01 21:19:35,194 | [32mINFO[0m | app.services.clerk_client | [CLERK] Verifying user_id: {user_id}
INFO:     127.0.0.1:50384 - "GET /api/threads/?limit=50&archived=true HTTP/1.1" 200 OK
2026-01-01 21:19:35,749 | [32mINFO[0m | app.services.clerk_client | [CLERK] Clerk API response: {response.status_code}
INFO:     127.0.0.1:50382 - "POST /api/auth/clerk HTTP/1.1" 200 OK
INFO:     127.0.0.1:50675 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50889 - "GET /health HTTP/1.1" 200 OK
2026-01-01 21:25:37,456 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:51551 - "GET /api/threads/?limit=5 HTTP/1.1" 200 OK
2026-01-01 21:25:46,183 | [32mINFO[0m | app.api.threads.router | Listing threads for org org_demo
INFO:     127.0.0.1:51584 - "GET /api/threads/?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:51701 - "GET /health HTTP/1.1" 200 OK
